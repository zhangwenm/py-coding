# Python Web API é¡¹ç›®

ä¸€ä¸ªåŸºäº Flask æ¡†æ¶æ„å»ºçš„çº¯åç«¯ API æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”— å®Œæ•´çš„ RESTful API æ¥å£
- ğŸ“Š CRUD æ“ä½œæ”¯æŒ
- âš¡ è½»é‡çº§ Flask æ¡†æ¶
- ğŸ›  æ ‡å‡†åŒ– JSON å“åº”æ ¼å¼
- ğŸ”§ é”™è¯¯å¤„ç†æœºåˆ¶

## æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: Flask 2.3.3
- **å¼€å‘è¯­è¨€**: Python 3.x
- **æ•°æ®æ ¼å¼**: JSON

## é¡¹ç›®ç»“æ„

```
py-coding/
â”œâ”€â”€ app.py              # ä¸»åº”ç”¨æ–‡ä»¶
â”œâ”€â”€ requirements.txt    # ä¾èµ–åŒ…åˆ—è¡¨
â””â”€â”€ README.md          # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. è¿è¡Œåº”ç”¨

```bash
python app.py
```

### 3. æµ‹è¯• API

æœåŠ¡å™¨å¯åŠ¨åï¼Œè®¿é—®ï¼šhttp://127.0.0.1:5000

## API æ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯
- **åŸºç¡€ URL**: `http://127.0.0.1:5000`
- **å“åº”æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

### æ¥å£åˆ—è¡¨

#### 1. è·å– API ä¿¡æ¯
- **URL**: `/`
- **æ–¹æ³•**: GET
- **æè¿°**: è·å– API åŸºæœ¬ä¿¡æ¯å’Œå¯ç”¨ç«¯ç‚¹

**å“åº”ç¤ºä¾‹**:
```json
{
    "message": "Python Web API æœåŠ¡",
    "version": "1.0.0",
    "endpoints": {
        "GET /": "API ä¿¡æ¯",
        "GET /api/data": "è·å–æ‰€æœ‰æ•°æ®",
        "GET /api/data/<id>": "è·å–æŒ‡å®š ID çš„æ•°æ®",
        "POST /api/data": "åˆ›å»ºæ–°æ•°æ®",
        "PUT /api/data/<id>": "æ›´æ–°æŒ‡å®š ID çš„æ•°æ®",
        "DELETE /api/data/<id>": "åˆ é™¤æŒ‡å®š ID çš„æ•°æ®"
    }
}
```

#### 2. è·å–æ‰€æœ‰æ•°æ®
- **URL**: `/api/data`
- **æ–¹æ³•**: GET
- **æè¿°**: è·å–æ‰€æœ‰æ•°æ®åˆ—è¡¨

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "message": "æ•°æ®è·å–æˆåŠŸ",
    "count": 3,
    "data": [
        {
            "id": 1,
            "name": "é¡¹ç›®1",
            "description": "è¿™æ˜¯ç¬¬ä¸€ä¸ªé¡¹ç›®",
            "created_at": "2024-01-01"
        }
    ]
}
```

#### 3. è·å–å•æ¡æ•°æ®
- **URL**: `/api/data/<id>`
- **æ–¹æ³•**: GET
- **æè¿°**: æ ¹æ® ID è·å–æŒ‡å®šæ•°æ®

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "message": "æ•°æ®è·å–æˆåŠŸ",
    "data": {
        "id": 1,
        "name": "é¡¹ç›®1",
        "description": "è¿™æ˜¯ç¬¬ä¸€ä¸ªé¡¹ç›®",
        "created_at": "2024-01-01"
    }
}
```

#### 4. åˆ›å»ºæ–°æ•°æ®
- **URL**: `/api/data`
- **æ–¹æ³•**: POST
- **æè¿°**: åˆ›å»ºæ–°çš„æ•°æ®è®°å½•

**è¯·æ±‚ä½“**:
```json
{
    "name": "æ–°é¡¹ç›®",
    "description": "é¡¹ç›®æè¿°ï¼ˆå¯é€‰ï¼‰"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "message": "æ•°æ®åˆ›å»ºæˆåŠŸ",
    "data": {
        "id": 4,
        "name": "æ–°é¡¹ç›®",
        "description": "é¡¹ç›®æè¿°",
        "created_at": "2024-01-15 14:30:00"
    }
}
```

#### 5. æ›´æ–°æ•°æ®
- **URL**: `/api/data/<id>`
- **æ–¹æ³•**: PUT
- **æè¿°**: æ›´æ–°æŒ‡å®š ID çš„æ•°æ®

**è¯·æ±‚ä½“**:
```json
{
    "name": "æ›´æ–°åçš„é¡¹ç›®å",
    "description": "æ›´æ–°åçš„æè¿°"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "message": "æ•°æ®æ›´æ–°æˆåŠŸ",
    "data": {
        "id": 1,
        "name": "æ›´æ–°åçš„é¡¹ç›®å",
        "description": "æ›´æ–°åçš„æè¿°",
        "created_at": "2024-01-01",
        "updated_at": "2024-01-15 14:35:00"
    }
}
```

#### 6. åˆ é™¤æ•°æ®
- **URL**: `/api/data/<id>`
- **æ–¹æ³•**: DELETE
- **æè¿°**: åˆ é™¤æŒ‡å®š ID çš„æ•°æ®

**å“åº”ç¤ºä¾‹**:
```json
{
    "status": "success",
    "message": "ID ä¸º 1 çš„æ•°æ®å·²åˆ é™¤"
}
```

## æµ‹è¯•ç¤ºä¾‹

### ä½¿ç”¨ curl æµ‹è¯•

```bash
# è·å– API ä¿¡æ¯
curl http://127.0.0.1:5000/

# è·å–æ‰€æœ‰æ•°æ®
curl http://127.0.0.1:5000/api/data

# è·å–æŒ‡å®šæ•°æ®
curl http://127.0.0.1:5000/api/data/1

# åˆ›å»ºæ–°æ•°æ®
curl -X POST http://127.0.0.1:5000/api/data \
  -H "Content-Type: application/json" \
  -d '{"name": "æµ‹è¯•é¡¹ç›®", "description": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é¡¹ç›®"}'

# æ›´æ–°æ•°æ®
curl -X PUT http://127.0.0.1:5000/api/data/1 \
  -H "Content-Type: application/json" \
  -d '{"name": "æ›´æ–°çš„é¡¹ç›®", "description": "æ›´æ–°çš„æè¿°"}'

# åˆ é™¤æ•°æ®
curl -X DELETE http://127.0.0.1:5000/api/data/1
```

## é”™è¯¯å¤„ç†

API ä½¿ç”¨æ ‡å‡†çš„ HTTP çŠ¶æ€ç ï¼š

- `200` - æˆåŠŸ
- `201` - åˆ›å»ºæˆåŠŸ
- `400` - è¯·æ±‚é”™è¯¯
- `404` - èµ„æºæœªæ‰¾åˆ°
- `500` - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

é”™è¯¯å“åº”æ ¼å¼ï¼š
```json
{
    "status": "error",
    "message": "é”™è¯¯æè¿°"
}
```

## éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# å®‰è£… Gunicorn
pip install gunicorn

# è¿è¡Œç”Ÿäº§æœåŠ¡å™¨
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

## è®¸å¯è¯

MIT License
